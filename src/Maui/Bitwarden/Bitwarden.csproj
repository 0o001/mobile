<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<TargetFrameworks>net7.0-android;net7.0-ios</TargetFrameworks>
		<TargetFrameworks Condition="$([MSBuild]::IsOSPlatform('windows'))">$(TargetFrameworks);net7.0-windows10.0.19041.0</TargetFrameworks>
		<!-- Uncomment to also build the tizen app. You will need to install tizen by following this: https://github.com/Samsung/Tizen.NET -->
		<!-- <TargetFrameworks>$(TargetFrameworks);net7.0-tizen</TargetFrameworks> -->
		<OutputType>Exe</OutputType>
		<RootNamespace>Bit.App</RootNamespace>
		<UseMaui>true</UseMaui>
		<SingleProject>true</SingleProject>
		<ImplicitUsings>enable</ImplicitUsings>

		<!-- Display name -->
		<ApplicationTitle>Bitwarden</ApplicationTitle>

		<!-- App Identifier -->
		<ApplicationId Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'ios'">com.8bit.bitwarden</ApplicationId>
		<ApplicationId Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'android'">com.x8bit.bitwarden</ApplicationId>
		<ApplicationIdGuid>ccf4766c-a36c-4647-900c-0ea7d323ccc6</ApplicationIdGuid>

		<!-- Versions -->
		<ApplicationDisplayVersion>1.0</ApplicationDisplayVersion>
		<ApplicationVersion>1</ApplicationVersion>

		<SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'ios'">11.0</SupportedOSPlatformVersion>
		<SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'maccatalyst'">13.1</SupportedOSPlatformVersion>
		<SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'android'">21.0</SupportedOSPlatformVersion>
		<SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'windows'">10.0.17763.0</SupportedOSPlatformVersion>
		<TargetPlatformMinVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'windows'">10.0.17763.0</TargetPlatformMinVersion>
		<SupportedOSPlatformVersion Condition="$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'tizen'">6.5</SupportedOSPlatformVersion>
	</PropertyGroup>

	<!--<PropertyGroup Condition="$(TargetFramework.Contains('-ios'))">
      <RuntimeIdentifier>ios-arm64</RuntimeIdentifier>
		<RuntimeIdentifier>iossimulator-x64</RuntimeIdentifier>
		<PlatformTarget>x64</PlatformTarget>
  </PropertyGroup>-->

	<PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Debug|net7.0-ios|AnyCPU'">
	  <CreatePackage>false</CreatePackage>
		<RuntimeIdentifier>iossimulator-x64</RuntimeIdentifier>
	  <CodesignProvision>Automatic</CodesignProvision>
	  <CodesignKey>iPhone Developer</CodesignKey>
	  <CodesignEntitlements>Platforms\iOS\Entitlements.plist</CodesignEntitlements>
	</PropertyGroup>
	<PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Release|net7.0-ios|AnyCPU'">
	  <CreatePackage>false</CreatePackage>
	</PropertyGroup>
	<ItemGroup>
		<PackageReference Include="Microsoft.Extensions.Logging.Debug" Version="7.0.0" />
		<PackageReference Include="CsvHelper" Version="30.0.1" />
		<PackageReference Include="LiteDB" Version="5.0.17" />
		<PackageReference Include="MessagePack" Version="2.5.124" />
		<PackageReference Include="MessagePack.MSBuild.Tasks" Version="2.5.124">
		  <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		  <PrivateAssets>all</PrivateAssets>
		</PackageReference>
		<PackageReference Include="Microsoft.AppCenter.Crashes" Version="5.0.2" />
		<PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
		<PackageReference Include="zxcvbn-core" Version="7.0.92" />
		<PackageReference Include="CommunityToolkit.Maui" Version="5.2.0" />
		<PackageReference Include="Plugin.Fingerprint" Version="2.1.5" />
		<PackageReference Include="SkiaSharp.Views.Maui.Controls" Version="2.88.3" />
		<PackageReference Include="SkiaSharp.Views.Maui.Controls.Compatibility" Version="2.88.3" />
		<PackageReference Include="ZXing.Net.Maui" Version="0.3.0-preview.1" />
		<PackageReference Include="FFImageLoadingCompat.Maui" Version="0.1.1" />
		<PackageReference Include="ZXing.Net.Maui.Controls" Version="0.3.0-preview.1" />
		<PackageReference Include="AsyncAwaitBestPractices.MVVM" Version="6.0.6" />
		<PackageReference Include="CommunityToolkit.Mvvm" Version="8.2.1" />
		<PackageReference Include="PCLCrypto" Version="2.0.147" />
		<PackageReference Include="Portable.BouncyCastle" Version="1.9.0" />
	</ItemGroup>

	<ItemGroup>
	  <None Remove="Platforms\Android\Resources\mipmap-mdpi\ic_launcher.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-mdpi\ic_launcher_round.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher_round.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher_round.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-hdpi\ic_launcher.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-hdpi\ic_launcher_round.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xhdpi\logo_legacy.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xhdpi\yubikey.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xhdpi\logo_white_legacy.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xxhdpi\logo_legacy.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xxhdpi\yubikey.png" />
	  <None Remove="Platforms\Android\Resources\drawable-xxhdpi\logo_white_legacy.png" />
	  <None Remove="Platforms\Android\Resources\drawable-hdpi\logo_legacy.png" />
	  <None Remove="Platforms\Android\Resources\drawable-hdpi\yubikey.png" />
	  <None Remove="Platforms\Android\Resources\drawable-hdpi\logo_white_legacy.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xhdpi\ic_launcher.png" />
	  <None Remove="Platforms\Android\Resources\mipmap-xhdpi\ic_launcher_round.png" />
	  <None Remove="Platforms\Android\google-services.json" />
	  <None Remove="Effects\" />
	  <None Remove="Platforms\Android\Handlers\" />
	  <None Remove="Platforms\Android\Utilities\" />
	  <None Remove="Handlers\" />
	  <None Remove="Resources\" />
	  <None Remove="Resources\Splash\splash.svg" />
	  <None Remove="Resources\Splash\" />
	</ItemGroup>
	<ItemGroup>
	  <Folder Include="Effects\" />
	  <Folder Include="Platforms\Android\Handlers\" />
	  <Folder Include="Platforms\Android\Utilities\" />
	  <Folder Include="Handlers\" />
	  <Folder Include="Resources\" />
	  <Folder Include="Resources\AppIcon\" />
	  <Folder Include="Resources\Splash\" />
	</ItemGroup>
	<ItemGroup Condition="'$(TargetFramework)' == 'net7.0-android'">
	  <PackageReference Include="Xamarin.GooglePlayServices.SafetyNet" Version="118.0.1.5" />
	  <PackageReference Include="Plugin.CurrentActivity" Version="2.1.0.4" />
	  <PackageReference Include="Xamarin.AndroidX.AutoFill" Version="1.1.0.18" />
	  <PackageReference Include="Xamarin.Firebase.Messaging" Version="123.1.2.2" />
	  <PackageReference Include="Xamarin.AndroidX.Activity.Ktx" Version="1.7.2.1" />
	</ItemGroup>
	<ItemGroup>
	  <BundleResource Include="Platforms\Android\Resources\mipmap-mdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-mdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-hdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-hdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-mdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-mdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-hdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-hdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxxhdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xxhdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xhdpi\logo_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xhdpi\yubikey.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xhdpi\logo_white_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xxhdpi\logo_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xxhdpi\yubikey.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-xxhdpi\logo_white_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-hdpi\logo_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-hdpi\yubikey.png" />
	  <BundleResource Include="Platforms\Android\Resources\drawable-hdpi\logo_white_legacy.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xhdpi\ic_launcher.png" />
	  <BundleResource Include="Platforms\Android\Resources\mipmap-xhdpi\ic_launcher_round.png" />
	  <BundleResource Include="Platforms\Android\google-services.json" />
	</ItemGroup>
	<ItemGroup>
	  <ProjectReference Include="..\iOS.Core\iOS.Core.csproj" Condition="'$(TargetFramework)' == 'net7.0-ios'" />
	  <ProjectReference Include="..\Bit.Core\Bit.Core.csproj" />
	  <ProjectReference Include="..\iOS.Core\iOS.Core.csproj" />
	</ItemGroup>
	<ItemGroup>
				<!-- App Icon -->
		<MauiIcon Include="Resources\AppIcon\appicon.svg" ForegroundFile="Resources\AppIcon\appiconfg.svg" Color="#512BD4" />

	  <MauiSplashScreen Include="Resources\Splash\splash.svg">
	    <Color>#175DDC</Color>
	    <BaseSize>128,128</BaseSize>
	  </MauiSplashScreen>
	</ItemGroup>
	<ItemGroup>
	  <MauiImage Include="Resources\cog_settings.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\ext_act.png" />
	  <MauiImage Include="Resources\ext_more.png" />
	  <MauiImage Include="Resources\ext_use.png" />
	  <MauiImage Include="Resources\generate.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\info.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\lock.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\login.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\logo_white.png" />
	  <MauiImage Include="Resources\logo.png" />
	  <MauiImage Include="Resources\more_vert.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\more.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\plus.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\search.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\send.svg">
	    <BaseSize>24,24</BaseSize>
	  </MauiImage>
	  <MauiImage Include="Resources\yubikey.png" />
	</ItemGroup>
</Project>
